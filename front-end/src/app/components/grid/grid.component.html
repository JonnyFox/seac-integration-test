<div class="grid-wrapper">
  <kendo-grid id="phanphy"
  [data]="view | async"
  [pageSize]="state.take"
  [skip]="state.skip"
  [sort]="state.sort"
  [sortable]="true"
  [filterable]="true"
  [pageable]="pageable"
  [scrollable]="'none'"
  (dataStateChange)="dataStateChange($event)"
  [rowClass]="rowCallback">
  <ng-template kendoGridToolbarTemplate>
    <button type="button" kendoGridExcelCommand ><span class="k-icon k-i-file-excel"></span>Export to Excel</button>
  </ng-template>
    <kendo-grid-column field="taxCode" title="Codice fiscale">
    </kendo-grid-column>
    <kendo-grid-column field="firstName" title="Nome">
    </kendo-grid-column>
    <kendo-grid-column field="lastName" title="Cognome">
    </kendo-grid-column>
    <kendo-grid-column field="caafCode" title="Codice CAAF">
    </kendo-grid-column>
    <kendo-grid-column field="income" title="Reddito dipendente (scostamento)" [class]="{'codeColumn': true}">
    </kendo-grid-column>
    <kendo-grid-excel fileName="Categories.xlsx" [fetchData]="allData"></kendo-grid-excel>
  </kendo-grid>
  <!--<div *ngIf="service.isLoading" class="k-i-loading"></div>-->
</div>
